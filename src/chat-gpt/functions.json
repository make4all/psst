{
    "definitions": {
        "Datum": {
            "type": "object",
            "properties": {
                "value": {
                    "type": "number"
                },
                "sinkId": {
                    "type": "number"
                },
                "time": {
                    "type": "number"
                }
            },
            "required": ["value", "sinkId"]
        },
        "OutputStateChange": ["Play", "Pause", "Stop", "Undefined", "Swap"]
    },
    "functions": [
        {
            "name": "addSink",
            "description": "AddSink takes optional arguments and based on what is provided either constructs a new data sink or uses a given one. In either case, it adds it to the set of sinks.",
            "parameters": {
                "type": "object",
                "properties": {
                    "description": {
                        "type": "string",
                        "description": "A description for the sink"
                    },
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    },
                    "sink": {
                        "type": "object",
                        "description": "The DataSink object"
                    },
                    "stream$": {
                        "type": "object",
                        "description": "Observable of Datum objects"
                    }
                }
            }
        },
        {
            "name": "getSink",
            "description": "Returns the DataSink associated with sinkId.",
            "parameters": {
                "type": "object",
                "properties": {
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    }
                }
            },
            "required": ["sinkId"]
        },
        {
            "name": "deleteSink",
            "description": "Removes a data sink. Once removed, that Id may be re-used.",
            "parameters": {
                "type": "object",
                "properties": {
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    },
                    "sink": {
                        "type": "object",
                        "description": "The DataSink object"
                    }
                }
            }
        },
        {
            "name": "sonify1D",
            "description": "Plays a simple sonification for an array of numbers",
            "parameters": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "description": "An array of numbers",
                        "items": {
                            "type": "number"
                        }
                    },
                    "sinkName": {
                        "type": "string",
                        "description": "A description for the sink"
                    }
                }
            },
            "required": ["data", "sinkName"]
        },
        {
            "name": "createNoteHandler",
            "description": "A DataHandler that outputs a Datum as a note in the audible range. Assumes a note should be played in the general range of 80 to 500 Hz to sound nice",
            "parameters": {
                "type": "object",
                "properties": {
                    "min": {
                        "type": "number",
                        "description": "The minimum value of the range for NoteOutput. The range is given in hertz"
                    },
                    "max": {
                        "type": "number",
                        "description": "The maximum value of the range for NoteOutput. The range is given in hertz"
                    },
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink to which the handler will output"
                    }
                }
            }
        }
    ]
}
