{
    "definitions": {
        "Datum": {
            "type": "object",
            "properties": {
                "value": {
                    "type": "number"
                },
                "sinkId": {
                    "type": "number"
                },
                "time": {
                    "type": "number"
                }
            },
            "required": ["value", "sinkId"]
        },
        "OutputStateChange": ["Play", "Pause", "Stop", "Undefined", "Swap"]
    },
    "functions": [
        {
            "name": "addSink",
            "description": "AddSink takes optional arguments and based on what is provided either constructs a new data sink or uses a given one. In either case, it adds it to the set of sinks.",
            "parameters": {
                "type": "object",
                "properties": {
                    "description": {
                        "type": "string",
                        "description": "A description for the sink"
                    },
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    },
                    "sink": {
                        "type": "object",
                        "description": "The DataSink object"
                    },
                    "stream$": {
                        "type": "object",
                        "description": "Observable of Datum objects"
                    }
                }
            }
        },
        {
            "name": "getSink",
            "description": "Returns the DataSink associated with sinkId.",
            "parameters": {
                "type": "object",
                "properties": {
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    }
                }
            },
            "required": ["sinkId"]
        },
        {
            "name": "deleteSink",
            "description": "Removes a data sink. Once removed, that Id may be re-used.",
            "parameters": {
                "type": "object",
                "properties": {
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink"
                    },
                    "sink": {
                        "type": "object",
                        "description": "The DataSink object"
                    }
                }
            }
        },
        {
            "name": "addHandler",
            "description": "Adds a Data Handler to the set of handlers. The handler will be called with each Datum that is output.",
            "parameters": {
                "type": "object",
                "properties": {
                    "sinkId": {
                        "type": "number",
                        "description": "A unique id for the sink to which the handler will output"
                    },
                    "handlerType": {
                        "type": "string",
                        "description": "The type of Data Handler to add. Currently supported types are: FilterRangeHandler, NoteHandler",
                        "enum": ["FilterRangeHandler", "NoteHandler"]
                    },
                    "max": {
                        "type": "number",
                        "description": "The maximum value of the range for NoteOutput or the FilterRangeHandler. The range is given in hertz for the NoteHandler and in numeric values for the FilterRangeHandler"
                    },
                    "min": {
                        "type": "number",
                        "description": "The minimum value of the range for NoteOutput or the FilterRangeHandler. The range is given in hertz for the NoteHandler and in numeric values for the FilterRangeHandler"
                    }
                }
            },
            "required": ["sinkId", "handlerType"]
        },
        {
            "name": "addOutput",
            "description": "Adds an OuputHandler to a DataHandler. The OutputHandler will be called with each Datum that is output from the DataHandler.",
            "parameters": {
                "type": "object",
                "properties": {
                    "dataHandler": {
                        "type": "object",
                        "description": "The DataHandler to which the OutputHandler will be added. This is returned by the addHandler function."
                    },
                    "OutputType": {
                        "type": "string",
                        "description": "The type of OutputHandler to add. Currently supported types are: NoteOutput, FilterRangeOutput",
                        "enum": ["NoteSonify", "Speech"]
                    }
                }
            }
        }
    ]
}
