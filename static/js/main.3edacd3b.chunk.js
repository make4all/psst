(this.webpackJsonppsst=this.webpackJsonppsst||[]).push([[1],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n(6),r=n(20),o=n(18),s=n(4),c=n(5),u=n(16),l=n(151),d=(n(34),n(43),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(a.a)(this,n),(s=t.call(this))._speechSynthesis=void 0,s._utterance=void 0,s._volume=void 0,s.playing=void 0,s._polite=void 0,s._speechSynthesis=window.speechSynthesis,s._utterance=new SpeechSynthesisUtterance,s._utterance.rate=r||10,s._volume=i||1,e&&(s._utterance.lang=e),s._utterance.voice=o||s._speechSynthesis.getVoices()[0],s._polite=c,s.playing=!1,h(u.c.DEBUG,"initialized"),s}return Object(i.a)(n,[{key:"polite",get:function(){return this._polite},set:function(e){this._polite=e}},{key:"output",value:function(e){console.log("enter speech output"),this.playing&&(Object(r.a)(Object(o.a)(n.prototype),"output",this).call(this,e),this._utterance.text=e.value.toString(),!this._speechSynthesis.pending&&!this._speechSynthesis.speaking||this.polite||(this._speechSynthesis.cancel(),console.log("bout to interrupt")),this._speechSynthesis.speak(this._utterance),console.log("spoken!"))}},{key:"start",value:function(){var e=this;this._utterance.volume=this._volume,this._speechSynthesis.resume(),this._speechSynthesis.pending&&this._speechSynthesis.cancel(),this.playing=!0,this._utterance.onend=function(){e._utterance.text=""},Object(r.a)(Object(o.a)(n.prototype),"start",this).call(this)}},{key:"pause",value:function(){this._utterance.volume=0,this._speechSynthesis.cancel(),this.playing=!1,Object(r.a)(Object(o.a)(n.prototype),"pause",this).call(this)}},{key:"resume",value:function(){this.playing=!0,this._utterance.volume=this._volume,this._speechSynthesis.resume()}},{key:"stop",value:function(){this._speechSynthesis.pending&&this._speechSynthesis.cancel(),this.playing=!1}},{key:"toString",value:function(){return"Speech"}}]),n}(l.a)),h=function(e,t){e>=Object(u.d)()?console.log(t):console.log("debug message dumped")}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),i=n(6),r=n(20),o=n(18),s=n(4),c=n(5),u=n(160),l=(n(43),n(16)),d=n(68),h=(n(34),n(37)),p=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r;return Object(a.a)(this,n),(r=t.call(this,i))._prevSlope=void 0,r._prevPoint=void 0,r._direction=void 0,r._prevPoint=0,r._prevSlope=0,r._direction=e||0,r}return Object(i.a)(n,[{key:"prevSlope",get:function(){return this._prevSlope},set:function(e){this._prevSlope=e}},{key:"prevPoint",get:function(){return this._prevPoint},set:function(e){this._prevPoint=e}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction=e}},{key:"setupSubscription",value:function(e){var t=this;f(l.c.DEBUG,"setting up subscription for ".concat(this," ").concat(e)),Object(r.a)(Object(o.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(u.a)((function(e){if(e instanceof h.a){var n=e.value-t.prevPoint;return t.prevPoint=e.value,0==t.direction?(console.log("direction 0"),Math.sign(n)!=Math.sign(t.prevSlope)&&(console.log("direction of slope changed"),t.prevSlope=n,!0)):Math.sign(n)==t.direction&&Math.sign(n)!=Math.sign(t.prevSlope)?(t.prevSlope=n,!0):(t.prevSlope=n,!1)}return!0}))))}},{key:"toString",value:function(){return"SlopeParityHandler"}}]),n}(d.a),f=function(e,t){0}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),i=n(6),r=n(20),o=n(18),s=n(4),c=n(5),u=n(160),l=(n(43),n(16)),d=n(68),h=(n(34),n(37)),p=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r;return Object(a.a)(this,n),(r=t.call(this,i))._domain=void 0,f(l.c.DEBUG,"setting up filter range handeler"),e?(f(l.c.DEBUG,"setting up filter range handeler with domain ".concat(e)),r._domain=e):r._domain=[0,0],r}return Object(i.a)(n,[{key:"domain",get:function(){return this._domain},set:function(e){this._domain=e}},{key:"insideDomain",value:function(e){return f(l.c.DEBUG,"checking if ".concat(e," is inside ").concat(this.domain)),e>=this.domain[0]&&e<=this.domain[1]}},{key:"setupSubscription",value:function(e){var t=this;f(l.c.DEBUG,"setting up subscription for ".concat(this," ").concat(e)),Object(r.a)(Object(o.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(u.a)((function(e){return!(e instanceof h.a)||(f(l.c.DEBUG,"checking if ".concat(e," is inside ").concat(t.domain)),t.insideDomain(e.value))}))))}},{key:"toString",value:function(){return"FilterRangeHandler: Keeping only data in ".concat(this.domain[0],",").concat(this.domain[1])}}]),n}(d.a),f=function(e,t){false}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(43),c=n(286),u=n(64),l=n(37),d=n(16),h=n(34),p=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=d.b.Undefined,e.subscription=void 0,e}return Object(i.a)(n,[{key:"setupSubscription",value:function(e){var t=this;b(d.c.DEBUG,"setting up output subscription"),this.subscription=e.pipe(Object(s.a)((function(e){if(e instanceof l.a)b(d.c.DEBUG,"datum is  ".concat(e)),t.state==d.b.Play&&t.output(e);else{switch(b(d.c.DEBUG,"setting up state ".concat(d.b[e],": was ").concat(d.b[t.state])),e){case d.b.Play:t.state==d.b.Stop||t.state==d.b.Undefined?t.start():t.state==d.b.Pause&&t.resume();break;case d.b.Stop:t.stop();break;case d.b.Pause:t.pause();break;case d.b.Undefined:break;case d.b.Swap:Error("this should not happen -- OutputEngine should handle swaps and never send them on")}t.state=e}})),f(d.c.DEBUG,"output",false)).subscribe(this)}},{key:"complete",value:function(){var e;this.stop(),null===(e=this.subscription)||void 0===e||e.unsubscribe()}},{key:"stop",value:function(){}},{key:"start",value:function(){b(d.c.DEBUG,"Play was called")}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"output",value:function(e){b(d.c.DEBUG,"updating value  ".concat(e))}},{key:"toString",value:function(){return"".concat(Object(c.a)(this),"$")}}]),n}(u.a),f=function(e,t,n){return function(a){return n?a.pipe(Object(s.a)((function(n){b(e,t+": "+n)})),Object(h.a)(t)):a.pipe(Object(s.a)((function(n){b(e,t+": "+n)})))}},b=function(e,t){false}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n(6),r=n(4),o=n(5),s=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(a.a)(this,n),(r=t.call(this,e,o)).duration=.1,r.startTime=void 0,i&&(r.duration=i),r}return Object(i.a)(n,[{key:"audioNode",set:function(e){if(!e)throw new Error("Fixed duration nodes must be AudioScheduledSourceNode");this.audioNode=e}},{key:"output",value:function(e){var t=this;if(this.startTime){var a=n.audioCtx.currentTime-this.startTime,i=this.duration-a;this.extend(i+this.duration)}else{this.create(e).onended=function(){return t.resetAudioNode()}}}},{key:"resetAudioNode",value:function(){this.outputNode=void 0,this.startTime=void 0}}]),n}(n(83).a)},16:function(e,t,n){"use strict";var a,i,r,o;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),function(e){e[e.polite=0]="polite",e[e.assertive=1]="assertive"}(a||(a={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Stop=2]="Stop",e[e.Undefined=3]="Undefined",e[e.Swap=4]="Swap"}(i||(i={})),function(e){e[e.Max=0]="Max",e[e.Min=1]="Min"}(r||(r={})),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.ERROR=3]="ERROR"}(o||(o={}));var s=o.DEBUG;function c(){return s}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),i=n(6),r=n(20),o=n(18),s=n(4),c=n(5),u=n(160),l=(n(43),n(16)),d=n(68),h=(n(34),n(37)),p=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r;return Object(a.a)(this,n),(r=t.call(this,i))._extrema=void 0,r._direction=void 0,r._direction=e||1,1==r._direction?r._extrema=Number.MIN_VALUE:r._extrema=Number.MAX_VALUE,r}return Object(i.a)(n,[{key:"extrema",get:function(){return this._extrema},set:function(e){this._extrema=e}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction=e}},{key:"setupSubscription",value:function(e){var t=this;f(l.c.DEBUG,"setting up subscription for ".concat(this," ").concat(e)),Object(r.a)(Object(o.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(u.a)((function(e){return!(e instanceof h.a)||(f(l.c.DEBUG,"checking if ".concat(e," is new extrema")),1==t._direction?e.value>t._extrema&&(console.log("new maximum",e.value),t._extrema=e.value,!0):e.value<t._extrema&&(console.log("new minimum",e.value),t._extrema=e.value,!0))}))))}},{key:"toString",value:function(){return"RunningExtremaHandler"}}]),n}(d.a),f=function(e,t){e>=Object(l.d)()?console.log(t):console.log("debug message dumped")}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n(6),r=n(4),o=n(5),s=(n(43),n(16)),c=n(83),u=n(152),l=(n(34),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).filter=void 0,e}return Object(i.a)(n,[{key:"extend",value:function(e){var t=this.outputNode;d(s.c.DEBUG,"noiseSonify, getting noise node ".concat(t)),t&&(t.buffer=this.fillBuffer(e))}},{key:"fillBuffer",value:function(e){var t=c.a.audioCtx.sampleRate*e,a=n.audioCtx.createBuffer(1,t,n.audioCtx.sampleRate),i=a.getChannelData(0);d(s.c.DEBUG,"filling in buffer data");for(var r=0;r<t;r++)i[r]=2*Math.random()-1;return a}},{key:"create",value:function(e){var t=n.audioCtx.createBufferSource();return this.filter=n.audioCtx.createBiquadFilter(),this.filter.type="bandpass",this.filter.frequency.value=440,this.filter.connect(this.gainNode),t.buffer=this.fillBuffer(this.duration),t.connect(this.filter),this.outputNode=t,t.start(),t}},{key:"toString",value:function(){return"NoiseSonify"}}]),n}(u.a)),d=function(e,t){false}},268:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(81),o=n.n(r),s=n(1),c=n(6),u=n(4),l=n(5),d=n(38),h=n(16),p=n(101),f=n(126),b=n(179),v=n(334),m=n(336),j=n(353),g=n(287),y=n(176),O=n(349),x=n(350),k=n(355),S=n(343),_=n(356),D=n(339),w=n(340),C=n(341),E=n(342),P=n(85),N=function(){function e(){Object(s.a)(this,e),this._listeners=[],this.table=void 0}return Object(c.a)(e,[{key:"loadDataFromUrl",value:function(t){t&&""!==t.trim()?fetch(t).then((function(t){return t.text().then((function(t){return e.instance.loadDataFromText(t)}))})):console.log("Invalid url provided for data. Could not load.")}},{key:"loadDataFromText",value:function(e){if(e&&""!==e.trim()){for(var t=0,n=0,a=0;a<e.length;a++)"\t"===e.charAt(a)&&t++,"\n"===e.charAt(a)&&n++;var i=t/n>=1?"\t":",",r=n>0;console.log(r,t,n),this.table=P.a(e,{delimiter:i,header:r}),console.log(this.table.columns()),console.log(this.table),this.handleDataChange()}else console.log("Invalid text provided for data. Could not load.")}},{key:"loadDataFromFile",value:function(t){t.text().then((function(t){return e.instance.loadDataFromText(t)}))}},{key:"handleDataChange",value:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e](this.table)}},{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(e){for(var t=0;t<this._listeners.length;t++)e===this._listeners[t]&&this._listeners.splice(t,1)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();N.instance=void 0;var U=n(2),V=[{fileName:"sawtooth_wave.csv",displayName:"Sawtooth Wave"},{fileName:"sine_wave.csv",displayName:"Sine Wave"},{fileName:"square_wave.csv",displayName:"Square Wave"}],B=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e))._selectExample=void 0,a._textArea=void 0,a._inputFile=void 0,a._textField=void 0,a._handleClickContinue=function(e){switch(a.state.importType){case"example":case"file":break;case"paste":if(a._textArea&&a._textArea.current){var t=a._textArea.current.value.trim();N.getInstance().loadDataFromText(t)}break;case"link":if(a._textField&&a._textField.current){var n=a._textField.current.querySelector("input");if(n&&n.value){var i=n.value.trim();N.getInstance().loadDataFromUrl(i)}}}},a._handleFileChange=function(e){var t=e.target;if(t&&t.files&&1===t.files.length){console.log(e);var n=t.files[0];N.getInstance().loadDataFromFile(n)}},a._handleExampleChange=function(e){var t=(null===e||void 0===e?void 0:e.target.value)?e.target.value:a.state.exampleValue;a.setState({exampleValue:t});var n="./data/".concat(t);N.getInstance().loadDataFromUrl(n)},a._handleImportTypeChange=function(e,t){t&&a.setState({importType:t})},a.state={importType:"example",exampleValue:V[0].fileName},a._selectExample=i.a.createRef(),a._textArea=i.a.createRef(),a._inputFile=i.a.createRef(),a._textField=i.a.createRef(),a._handleExampleChange(),a}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n,a=this.state,i=a.importType,r=a.exampleValue,o=Object(U.jsx)(p.a,{variant:"contained",sx:{mt:1,mr:1},onClick:this._handleClickContinue,children:"Continue"});switch(i){case"example":e=Object(U.jsxs)(f.a,{children:[Object(U.jsx)(b.a,{variant:"standard",htmlFor:"example-data-select",id:"example-data-label",children:"Example Data"}),Object(U.jsx)(v.a,{ref:this._selectExample,"aria-label":"Choose example data",id:"example-data-select",placeholder:"Enter data here",value:r,variant:"standard",onChange:this._handleExampleChange,children:V.map((function(e){return Object(U.jsx)("option",{value:e.fileName,children:e.displayName},e.fileName)}))})]}),t="Choose from example data",n="Choose an example data file from the provided list.",o=void 0;break;case"paste":e=Object(U.jsx)(m.a,{ref:this._textArea,"aria-label":"Textarea for data entry",placeholder:"Enter data here",style:{width:"100%",maxHeight:"400px",overflow:"scroll"},minRows:5}),t="Copy & paste your data",n="Select your table from a spreadsheet and paste it in the text field. We support comma/tab separated values (i.e., CSV, TSV).";break;case"file":e=Object(U.jsx)("label",{htmlFor:"input-upload-file","aria-label":"Choose file",children:Object(U.jsx)(j.a,{component:"div",sx:{p:2,border:"2px dashed #aaa"},children:Object(U.jsxs)(p.a,{component:"label",children:["Upload",Object(U.jsx)(g.a,{style:{display:"none"},"aria-hidden":!0,ref:this._inputFile,type:"file",id:"input-upload-file",onChange:this._handleFileChange})]})})}),t="Upload your data file",n="Choose your local data file (*.csv or *.tsv) to upload.",o=void 0;break;case"link":e=Object(U.jsx)(y.a,{ref:this._textField,id:"my-input","aria-label":"Text field for data url",label:"Data URL"}),t="Link to your external data",n="Enter a valid url to an external data file. We support comma/tab separated values (i.e., CSV, TSV)."}return Object(U.jsxs)("div",{children:[Object(U.jsx)("h2",{children:"How do you want to upload your data?"}),Object(U.jsx)("div",{children:Object(U.jsxs)(O.a,{container:!0,spacing:2,children:[Object(U.jsx)(O.a,{item:!0,xs:4,sm:3,md:2,children:Object(U.jsxs)(x.a,{orientation:"vertical",value:i,onChange:this._handleImportTypeChange,exclusive:!0,children:[Object(U.jsxs)(k.a,{value:"example",children:[Object(U.jsx)(D.a,{}),Object(U.jsx)("span",{style:{textTransform:"none",marginLeft:"0.5rem",textAlign:"left",maxWidth:"100px",lineHeight:"1.4"},children:"Choose from example data"})]}),Object(U.jsxs)(k.a,{value:"paste",children:[Object(U.jsx)(w.a,{}),Object(U.jsx)("span",{style:{textTransform:"none",marginLeft:"0.5rem",textAlign:"left",maxWidth:"100px",lineHeight:"1.4"},children:"Copy & paste data table"})]}),Object(U.jsxs)(k.a,{value:"file",children:[Object(U.jsx)(C.a,{}),Object(U.jsx)("span",{style:{textTransform:"none",marginLeft:"0.5rem",textAlign:"left",maxWidth:"100px",lineHeight:"1.4"},children:"Upload CSV or TSV file"})]}),Object(U.jsxs)(k.a,{value:"link",children:[Object(U.jsx)(E.a,{}),Object(U.jsx)("span",{style:{textTransform:"none",marginLeft:"0.5rem",textAlign:"left",maxWidth:"100px",lineHeight:"1.4"},children:"Link to external url"})]})]})}),Object(U.jsx)(O.a,{item:!0,xs:8,sm:9,md:8,children:Object(U.jsx)("div",{children:Object(U.jsxs)(S.a,{spacing:1,children:[Object(U.jsx)(_.a,{variant:"h6",color:"text.secondary",children:t}),e,Object(U.jsx)(_.a,{variant:"body2",children:n}),o]})})}),Object(U.jsx)(O.a,{item:!0,xs:0,sm:0,md:2})]})})]})}}]),n}(i.a.Component),F=n(202),G=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleDataUpdate=function(e){var t=e.columnNames().map((function(e){return{field:e,headerName:e,width:160,renderHeader:function(t){return Object(U.jsx)("strong",{children:e})}}})),n=e.objects().map((function(e,t){return Object.assign({id:t},e)}));a.setState({columns:t,rows:n})},a.state={rows:[],columns:[]},N.getInstance().addListener(a.handleDataUpdate),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.rows,n=e.columns,a=t.length>0&&n.length>0;return console.log(n),Object(U.jsx)("div",{style:{height:500,width:"100%"},"aria-live":"polite",children:a&&Object(U.jsx)(F.a,{rows:t,columns:n})})}}]),n}(i.a.Component),H=n(11),I=n(122),T=n(347),A=n(352),R=n(43),M=n(37),z=n(67),L=n(66),q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).current=0,e.data=void 0,e.sink=void 0,e.delaySink=void 0,e.onPause=function(e){d.a.getInstance().next(h.b.Pause)},e.onPlay=function(t){var n;$(h.c.DEBUG,"in onPlay ".concat(e.sink,", ").concat(e.delaySink," ")),$(h.c.DEBUG,"adding sink"),void 0==e.sink&&(e.sink=e.initializeSink());var a=e.sink?e.sink.id:0,i=Object.assign([],t),r=I.a.apply(void 0,Object(H.a)(t)),o=(I.a.apply(void 0,Object(H.a)(i)),Object(T.a)(0,250).pipe(W(h.c.DEBUG,"point number"))),s=Object(A.a)(r,o,(function(e,t){return new M.a(a,e)})).pipe(W(h.c.DEBUG,"point"));s.subscribe({complete:function(){e.sink=void 0}}),$(h.c.DEBUG,"calling setStream"),d.a.getInstance().setStream(a,s),$(h.c.DEBUG,"adding Handler"),null===(n=e.sink)||void 0===n||n.addDataHandler(new z.a([t.reduce((function(e,t){return e<t?e:t})),t.reduce((function(e,t){return e>t?e:t}))],new L.a(-1))),$(h.c.DEBUG,"success"),console.log("sending play"),d.a.getInstance().next(h.b.Play)},e}return Object(c.a)(n,[{key:"getSink",value:function(){return this.sink?this.sink:this.initializeSink()}},{key:"getDelaySink",value:function(){return this.delaySink?this.delaySink:this.initializeDelaySink()}},{key:"initializeDelaySink",value:function(){return $(h.c.DEBUG,"adding sink"),this.delaySink=d.a.getInstance().addSink("SimpleDemoDelaySink"),$(h.c.DEBUG,"success initializing sink ".concat(this.sink)),this.delaySink}},{key:"render",value:function(){return Object(U.jsx)("div",{children:Object(U.jsx)("p",{children:" press play to hear a simple sonification"})})}},{key:"componentWillUnmount",value:function(){d.a.getInstance().next(h.b.Stop),this.sink&&d.a.getInstance().deleteSink(this.sink)}},{key:"initializeSink",value:function(){return $(h.c.DEBUG,"adding sink"),this.sink=d.a.getInstance().addSink("SimpleDemoSink"),$(h.c.DEBUG,"success initializing sink ".concat(this.sink)),this.sink}}]),n}(i.a.Component),W=function(e,t){return function(n){return n.pipe(Object(R.a)((function(n){$(e,t+": "+n)})))}},$=function(e,t){false},J=n(133),K=n(193),X=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).filter=void 0,a._handleValueChange=function(e,t){switch(t){case"min":a.setState({minValue:e});break;case"max":a.setState({maxValue:e})}},a.state={minValue:a.props.dataSummary.min,maxValue:a.props.dataSummary.max},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.minValue,a=t.maxValue;return Object(U.jsxs)("div",{children:[Object(U.jsx)(y.a,{id:"text-min-value","aria-label":"Enter minimum value",label:"Min",variant:"outlined",type:"number",value:isNaN(n)?"":n,onChange:function(t){return e._handleValueChange(parseFloat(t.target.value),"min")}}),Object(U.jsx)(y.a,{id:"text-max-value","aria-label":"Enter maximum value",label:"Max",variant:"outlined",type:"number",value:isNaN(a)?"":a,onChange:function(t){return e._handleValueChange(parseFloat(t.target.value),"max")}})]})}},{key:"componentDidUpdate",value:function(e){if(this.props.dataSummary.min!==e.dataSummary.min||this.props.dataSummary.max!==e.dataSummary.max){var t=this.props.dataSummary.min,n=this.props.dataSummary.max;this.setState({minValue:t,maxValue:n})}this.filter&&(this.filter.domain=[this.state.minValue,this.state.maxValue])}},{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("HighlightRegionDemo"),this.filter=new J.a([this.state.minValue,this.state.maxValue],new K.a(void 0,void 0,-1)),this.sink.addDataHandler(this.filter),this.sink.addDataHandler(new z.a(void 0,new L.a)),this.sink}}]),n}(q),Q=n(115),Y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).filter=void 0,a._handleValueChange=function(e,t){switch(t){case"min":a.setState({minValue:e});break;case"max":a.setState({maxValue:e})}},a.state={minValue:a.props.dataSummary.min,maxValue:a.props.dataSummary.max},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.minValue,a=t.maxValue;return Object(U.jsxs)("div",{children:[Object(U.jsx)(y.a,{id:"text-min-value","aria-label":"Enter minimum value",label:"Min",variant:"outlined",type:"number",value:isNaN(n)?"":n,onChange:function(t){return e._handleValueChange(parseFloat(t.target.value),"min")}}),Object(U.jsx)(y.a,{id:"text-max-value","aria-label":"Enter maximum value",label:"Max",variant:"outlined",type:"number",value:isNaN(a)?"":a,onChange:function(t){return e._handleValueChange(parseFloat(t.target.value),"max")}})]})}},{key:"componentDidUpdate",value:function(e){if(this.props.dataSummary.min!==e.dataSummary.min||this.props.dataSummary.max!==e.dataSummary.max){var t=this.props.dataSummary.min,n=this.props.dataSummary.max;this.setState({minValue:t,maxValue:n})}this.filter&&(this.filter.domain=[this.state.minValue,this.state.maxValue])}},{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("SpeakRangeDemo"),this.filter=new J.a([this.state.minValue,this.state.maxValue],new Q.a(void 0,void 0,void 0,void 0,!0)),this.sink.addDataHandler(this.filter),this.sink}}]),n}(q),Z=n(25),ee=n(20),te=n(18),ne=n(68),ae=n(160),ie=(n(34),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,a){var i;return Object(s.a)(this,n),(i=t.call(this,e))._interestPoints=void 0,i._interestPoints=a||[0],i}return Object(c.a)(n,[{key:"interestPoints",get:function(){return this._interestPoints},set:function(e){this._interestPoints=e}},{key:"isInterestPoint",value:function(e){return re(h.c.DEBUG,"checking if "+e+" is in "+this.interestPoints.toString()),this.interestPoints.includes(e)}},{key:"setupSubscription",value:function(e){var t=this;Object(ee.a)(Object(te.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(ae.a)((function(e){return!(e instanceof M.a)||t.isInterestPoint(e.value)}))))}},{key:"toString",value:function(){return"NotificationHandler: notifying only if points are  in ".concat(this.interestPoints)}}]),n}(ne.a)),re=function(e,t){e>=Object(h.d)()?console.log(t):console.log("debug message dumped")},oe=n(90),se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).notifier=void 0,a._inputFile=void 0,a._buffer=void 0,a._handleValueChange=function(e){var t,n=e.split(","),i=[],r=Object(Z.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value,s=parseFloat(o);isNaN(s)||i.push(s)}}catch(c){r.e(c)}finally{r.f()}a.setState({targetValues:i})},a._handleFileChange=function(e){console.log("file changed!");var t=e.target;t&&t.files&&1===t.files.length&&(console.log(e),t.files[0].arrayBuffer().then((function(e){a._buffer=e,console.log("buffer updated!")})).catch(console.error))},a.state={targetValues:[a.props.dataSummary.max]},a._inputFile=i.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;this.state.targetValues;return Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"input-upload-file","aria-label":"Choose file",children:Object(U.jsx)(j.a,{component:"div",sx:{p:2,border:"2px dashed #aaa",mb:2},children:Object(U.jsxs)(p.a,{component:"label",children:["Upload",Object(U.jsx)(g.a,{style:{display:"none"},"aria-hidden":!0,ref:this._inputFile,type:"file",id:"input-upload-file",onChange:this._handleFileChange})]})})}),Object(U.jsx)(y.a,{id:"text-values","aria-label":"Enter the target value",label:"Points of interest",variant:"outlined",onChange:function(t){return e._handleValueChange(t.target.value)}})]})}},{key:"componentDidUpdate",value:function(e){if(this.props.dataSummary.min!==e.dataSummary.min||this.props.dataSummary.max!==e.dataSummary.max){var t=[this.props.dataSummary.max];this.setState({targetValues:t})}this.notifier&&(this.notifier.interestPoints=this.state.targetValues)}},{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("FileOutputDemo"),this.notifier=new ie(new oe.a(this._buffer),this.state.targetValues),console.log("sink initialized"),this.sink.addDataHandler(this.notifier),this.sink}}]),n}(q),ce=n(116),ue=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).slopeHandler=void 0,a._inputFile=void 0,a._buffer=void 0,a._handleFileChange=function(e){console.log("file changed!");var t=e.target;t&&t.files&&1===t.files.length&&(console.log(e),t.files[0].arrayBuffer().then((function(e){a._buffer=e,console.log("buffer updated!")})).catch(console.error))},a.state={targetValues:[a.props.dataSummary.max]},a._inputFile=i.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){this.state.targetValues;return Object(U.jsx)("div",{children:Object(U.jsx)("label",{htmlFor:"input-upload-file","aria-label":"Choose file",children:Object(U.jsx)(j.a,{component:"div",sx:{p:2,border:"2px dashed #aaa",mb:2},children:Object(U.jsxs)(p.a,{component:"label",children:["Upload",Object(U.jsx)(g.a,{style:{display:"none"},"aria-hidden":!0,ref:this._inputFile,type:"file",id:"input-upload-file",onChange:this._handleFileChange})]})})})})}},{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("DemoSlopeParityV1"),this.slopeHandler=new ce.a(0,new oe.a(this._buffer)),console.log("sink initialized"),this.sink.addDataHandler(new z.a(void 0,new L.a)),this.sink.addDataHandler(this.slopeHandler),this.sink}}]),n}(q),le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).increasingTracker=void 0,a.decreasingTracker=void 0,a._inputFile=void 0,a._increasingBuffer=void 0,a._decreasingBuffer=void 0,a._handleFileChange=function(e,t){var n=e.target;n&&n.files&&1===n.files.length&&(console.log(e),n.files[0].arrayBuffer().then((function(e){1==t?a._increasingBuffer=e:a._decreasingBuffer=e})).catch(console.error))},a._inputFile=i.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"input-upload-file","aria-label":"Choose file",children:Object(U.jsx)(j.a,{component:"div",sx:{p:2,border:"2px dashed #aaa",mb:2},children:Object(U.jsxs)(p.a,{component:"label",children:["Upload notification for increasing",Object(U.jsx)(g.a,{style:{display:"none"},"aria-hidden":!0,ref:this._inputFile,type:"file",id:"input-upload-file",onChange:function(t){return e._handleFileChange(t,1)}})]})})}),Object(U.jsx)("label",{htmlFor:"input-upload-file","aria-label":"Choose file",children:Object(U.jsx)(j.a,{component:"div",sx:{p:2,border:"2px dashed #aaa",mb:2},children:Object(U.jsxs)(p.a,{component:"label",children:["Upload notification for decreasing",Object(U.jsx)(g.a,{style:{display:"none"},"aria-hidden":!0,ref:this._inputFile,type:"file",id:"input-upload-file",onChange:function(t){return e._handleFileChange(t,-1)}})]})})})]})}},{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("DemoSlopeParityV2"),this.increasingTracker=new ce.a(1,new oe.a(this._increasingBuffer)),this.decreasingTracker=new ce.a(-1,new oe.a(this._decreasingBuffer)),this.sink.addDataHandler(this.increasingTracker),this.sink.addDataHandler(this.decreasingTracker),this.sink.addDataHandler(new z.a(void 0,new L.a)),this.sink}}]),n}(q),de=n(172),he={simple:{value:"simple",label:"Simple sonification",component:q},highlightRegion:{value:"highlightRegion",label:"Highlight points for region",component:X},speechHighlight:{value:"speechHighlight",label:"Speak points in range",component:Y},fileOutput:{value:"fileOutput",label:"Point of interest notification",component:se},slopeParityV1:{value:"slopeParityV1",label:"Slope direction change notification",component:ue},slopeParityV2:{value:"slopeParityV2",label:"Slope parity notification",component:le},runningExtrema:{value:"runningExtrema",label:"Running extrema notification",component:function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).minimumTracker=void 0,a.maximumTracker=void 0,a}return Object(c.a)(n,[{key:"initializeSink",value:function(){return this.sink=d.a.getInstance().addSink("DemoSlopeParity"),this.maximumTracker=new de.a(1,new Q.a),this.minimumTracker=new de.a(-1,new Q.a),console.log("sink initialized"),this.sink.addDataHandler(this.maximumTracker),this.sink.addDataHandler(this.minimumTracker),this.sink.addDataHandler(new z.a(void 0,new L.a)),this.sink}}]),n}(q)}},pe=i.a.createRef(),fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e))._handleDataChange=function(e){var t=e.columnNames(),n=e.object();if(t.length>0&&n&&(t=t.filter((function(e){return"number"===typeof n[e]}))).length>0){var i=t[0],r=a._computeDataSummary(e,i);a.setState({dataSummary:r,data:e,columnList:t,columnSelected:i})}},a._computeDataSummary=function(e,t){return e.rollup({mean:P.b.mean(t),min:P.b.min(t),max:P.b.max(t),median:P.b.median(t),count:P.b.count()}).object()},a._handlePlayButton=function(){var e=d.a.getInstance(),t=e.value;if(console.log("Output Engine instance is present. Output state",t),t==h.b.Pause)e.next(h.b.Play);else if(t==h.b.Play)console.log("pausing output."),e.next(h.b.Pause);else{var n=a.state.data;if(console.log("table: ".concat(a.state.columnSelected," ").concat(n," ").concat(n.columnNames)),n){var i=n.array(a.state.columnSelected);if(pe.current){var r=pe.current;console.log("calling demo's onPlay()"),r.onPlay(i)}}}},a._handlePlaybackStateChanged=function(e){var t;switch(console.log("handlePlaybackStateChanged",h.b[e]),e){case h.b.Play:t="pause";break;case h.b.Pause:t="resume";break;default:t="play"}a.setState({playbackLabel:t})},a._handleDemoViewValueChange=function(e){var t=e.target.value;a.setState({demoViewValue:t})},a._handleColumnSelectChange=function(e){var t=e.target.value,n=a.state.data;if(n){var i=a._computeDataSummary(n,t);a.setState({columnSelected:t,dataSummary:i})}},a.state={dataSummary:{min:300,max:500,median:400,mean:400,count:200},data:void 0,demoViewValue:"simple",playbackLabel:"play",columnSelected:"Value",columnList:["Value"]},N.getInstance().addListener(a._handleDataChange),d.a.getInstance().subscribe(a._handlePlaybackStateChanged),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.demoViewValue,n=e.dataSummary,a=e.playbackLabel,i=e.columnSelected,r=e.columnList,o=he[t].component;return Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:" basic sonification demo"}),Object(U.jsx)("div",{children:Object(U.jsx)(B,{})}),Object(U.jsx)("div",{style:{marginTop:"20px"},children:Object(U.jsxs)(O.a,{container:!0,spacing:2,children:[Object(U.jsx)(O.a,{item:!0,xs:8,sm:4,md:4,children:Object(U.jsxs)(f.a,{children:[Object(U.jsx)(b.a,{variant:"standard",htmlFor:"data-column-select",id:"data-column-label",children:"Select Data Column"}),Object(U.jsx)(v.a,{"aria-label":"Select data column to sonify",id:"data-column-select",variant:"standard",value:i,onChange:this._handleColumnSelectChange,children:r.map((function(e){return Object(U.jsx)("option",{value:e,children:e},e)}))})]})}),Object(U.jsx)(O.a,{item:!0,xs:8,sm:4,md:4,children:Object(U.jsxs)(f.a,{children:[Object(U.jsx)(b.a,{variant:"standard",htmlFor:"demo-view-select",id:"demo-view-label",children:"Sonification Demo"}),Object(U.jsx)(v.a,{"aria-label":"Choose demo",id:"demo-view-select",value:t,onChange:this._handleDemoViewValueChange,children:Object.values(he).map((function(e){return Object(U.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})})]})}),Object(U.jsxs)("div",{style:{marginTop:"20px"},children:[Object(U.jsx)(O.a,{container:!0,spacing:2,children:Object(U.jsx)(O.a,{item:!0,xs:12,sm:8,md:8,children:Object(U.jsx)(o,{ref:pe,dataSummary:n})})}),Object(U.jsx)("button",{onClick:this._handlePlayButton,children:a}),Object(U.jsx)("p",{children:"Press the interrupt with random data button when a tone is playing to override what is playing with random data."})]}),Object(U.jsx)("div",{children:Object(U.jsx)(G,{})})]})}}]),n}(i.a.Component),be=n(153),ve=n(31),me=function(e){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("ul",{children:[{name:"Basic",url:"/basic"},{name:"Jacdac",url:"/jacdac"},{name:"Jacdac and microbit",url:"/jacdacmicrobit"},{name:"Dashboard",url:"/dashboard"}].map((function(e){return Object(U.jsx)("li",{children:Object(U.jsx)(be.b,{to:e.url,children:e.name})})}))})})},je=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,365))})),ge=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,371))})),ye=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,370))}));o.a.render(Object(U.jsx)(be.a,{children:Object(U.jsxs)(ve.c,{children:[Object(U.jsx)(ve.a,{path:"/",element:Object(U.jsx)(me,{})}),Object(U.jsx)(ve.a,{path:"basic",element:Object(U.jsx)(fe,{})}),Object(U.jsx)(ve.a,{path:"jacdac",element:Object(U.jsx)(a.Suspense,{fallback:null,children:Object(U.jsx)(je,{})})}),Object(U.jsx)(ve.a,{path:"jacdacmicrobit",element:Object(U.jsx)(a.Suspense,{fallback:null,children:Object(U.jsx)(ye,{})})}),Object(U.jsx)(ve.a,{path:"dashboard",element:Object(U.jsx)(a.Suspense,{fallback:null,children:Object(U.jsx)(ge,{})})})]})}),document.getElementById("root"))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),i=n(6),r=n(194),o=function(){function e(t,n,i){Object(a.a)(this,e),this.value=void 0,this.sinkId=void 0,this.time=void 0,this.value=n,this.sinkId=t,this.time=i||r.b()}return Object(i.a)(e,[{key:"toString",value:function(){return"(raw: ".concat(this.value,", ").concat(this.time,")")}}]),e}()},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(37),c=n(16),u=n(105),l=n(64),d=n(43),h=n(34),p=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(a.a)(this,n),(r=t.call(this)).id=void 0,r._description=void 0,r._dataHandlers=void 0,r.overrideDatum=void 0,r.id=e,r._description=i,r._dataHandlers=new Array,r.overrideDatum=o,r}return Object(i.a)(n,[{key:"removeDataHandler",value:function(e){e.complete(),this._dataHandlers=this._dataHandlers.filter((function(e){return e!==e}))}},{key:"addDataHandler",value:function(e){b(c.c.DEBUG,"Adding data handeler: ".concat(e,". length of _handelers of sink is ").concat(this._dataHandlers.length));var t=this;this.overrideDatum&&this._dataHandlers.length>0&&(t=this._dataHandlers[this._dataHandlers.length-1]),b(c.c.DEBUG,"printing ".concat(t)),e.setupSubscription(t),this._dataHandlers.push(e)}},{key:"setupSubscription",value:function(e){var t=this;e.pipe(Object(u.a)((function(e){return e instanceof s.a&&(e.sinkId=t.id),e})),f(c.c.DEBUG,"dataSink",false)).subscribe(this)}},{key:"toString",value:function(){var e=this._description;return e+="(id: ".concat(this.id,")")}}]),n}(l.a),f=function(e,t,n){return function(a){return n?a.pipe(Object(h.a)(t)):a.pipe(Object(d.a)((function(n){b(e,t+": "+n)})))}},b=function(e,t){false},v=n(282),m=n(283),j=n(274),g=n(96),y=n.n(g),O=n(196),x=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,c.b.Undefined)).spy=Object(O.a)(),e.sinks=void 0,e.sinks=new Map,e.spy.show(),e.spy.log(),e}return Object(i.a)(n,[{key:"getUniqueId",value:function(){var e=0;return this.sinks.forEach((function(t,n){e=n>e?n:e})),e+1}},{key:"getSink",value:function(e){var t,n=null===(t=this.sinks.get(e))||void 0===t?void 0:t.sink;return y()(n,"no sink associated with ".concat(e)),n}},{key:"addSink",value:function(e,t,n,a){var i;return e=e||"Unknown Sink",(t=n?n.id:t)||(t=this.getUniqueId()),y()(!this.sinks.has(t),"sinkId is not unique"),n=n||new p(t,e),y()((null===(i=n)||void 0===i?void 0:i.id)==t,"sinkId and sink.id don't match"),this.sinks.set(t,{sink:n,stream$:void 0}),a&&this.setStream(t,a),n}},{key:"deleteSink",value:function(e,t){var n,a;if(null===(a=e=t?null===(n=this.sinks.get(t))||void 0===n?void 0:n.sink:e)||void 0===a||a.complete(),e&&this.sinks.delete(e.id),!e&&!t)throw Error("Must specify sink or ID")}},{key:"pushPoint",value:function(e,t){this.getSink(t).next(new s.a(t,e))}},{key:"setStream",value:function(e,t){var n,a=this;k(c.c.DEBUG,"Setting Stream: ".concat(e));var i=this.sinks.get(e);if(i){i.stream$&&(null===i||void 0===i||null===(n=i.sink)||void 0===n||n.complete());var r=i.sink;t.subscribe({complete:function(){a.next(c.b.Stop),r.complete(),a.deleteSink(r)}});var o=this.pipe(Object(u.a)((function(e){return e===c.b.Swap?(k(c.c.DEBUG,"Swapping Play and Pause"),a.value==c.b.Pause?c.b.Play:a.value==c.b.Play?c.b.Pause:(Error("can only swap Play and Pause"),e)):(k(c.c.DEBUG,"state changed to ".concat(c.b[e])),e)})),Object(v.a)(1)),s=Object(m.a)(o,t);r.setupSubscription(s),this.sinks.set(r.id,{sink:r,stream$:s})}}}],[{key:"getInstance",value:function(){return n.outputEngineInstance||(n.outputEngineInstance=new n),n.outputEngineInstance}}]),n}(j.a);x.outputEngineInstance=void 0;var k=function(e,t){false}},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(20),c=n(18),u=n(16),l=n(83),d=(n(43),n(34),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(a.a)(this,n);var r=(e=t.call(this,l.a.audioCtx.createOscillator(),i)).outputNode;return void 0==r&&(h(u.c.DEBUG,"creating oscillator"),r=l.a.audioCtx.createOscillator(),e.outputNode=r),e}return Object(i.a)(n,[{key:"stop",value:function(){h(u.c.DEBUG,"Stopping Playback");var e=this.outputNode;try{null===e||void 0===e||e.stop()}catch(t){console.log(t)}Object(s.a)(Object(c.a)(n.prototype),"stop",this).call(this)}},{key:"start",value:function(){h(u.c.DEBUG,"starting oscillator");var e=this.outputNode;this.isAudioPlaying||(e.start(),this.isAudioPlaying=!0),Object(s.a)(Object(c.a)(n.prototype),"start",this).call(this)}},{key:"output",value:function(e){h(u.c.DEBUG,"outputing ".concat(e.value," to oscillator")),this.outputNode.frequency.value=e.value}},{key:"toString",value:function(){var e=this.outputNode;return e?"NoteSonify playing ".concat(e.frequency.value):"NoteSonify not currently playing"}}]),n}(l.a)),h=function(e,t){false}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(56),c=n(20),u=n(18),l=n(37),d=n(68),h=n(105),p=n(43),f=n(160),b=n(122),v=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i){var r;if(Object(a.a)(this,n),(r=t.call(this,e)).subscription=void 0,i)r.setupSubscription(i.pipe(Object(f.a)((function(e){return e instanceof l.a})),Object(h.a)((function(e){return e.value}))));else{var o=Object(b.a)(e);r.setupSubscription(o)}return r}return Object(i.a)(n,[{key:"setupSubscription",value:function(e){var t;return null===(t=this.subscription)||void 0===t||t.unsubscribe(),this.subscription=e.subscribe(this),this.subscription}},{key:"toString",value:function(){return"".concat(this.value,"$")}}]),n}(n(274).a),m=n(16),j=n(351),g=n(344),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i,r){var o;return Object(a.a)(this,n),(o=t.call(this,r||0,i)).direction=void 0,o.direction=e,o}return Object(i.a)(n,[{key:"setupSubscription",value:function(e){var t=this;return Object(c.a)(Object(u.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(j.a)((function(e,n){return t.direction==m.a.Min?n>=e?e:n:n<=e?e:n})),Object(g.a)()))}}]),n}(v),O=n(96),x=n.n(O),k=n(34),S=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i,r,o){var c;return Object(a.a)(this,n),(c=t.call(this,o)).range=void 0,c.domain=void 0,c._conversionFunction=void 0,c._conversionFunction=e||function(e,t,n){t[0],n[1],n[0],t[1],t[0],n[0];return NaN?0:NaN},i?(x()(i[0]<i[1],"Domain should be in order of min, max"),c.domain=[new v(i[0]),new v(i[1])]):c.domain=[new y(m.a.Min,Object(s.a)(c),0),new y(m.a.Max,Object(s.a)(c),1)],r?(x()(r[0]<r[1],"range should be in order of min, max"),c.range=[new v(r[0]),new v(r[1])]):c.range=[new y(m.a.Min,Object(s.a)(c),0),new y(m.a.Max,Object(s.a)(c),1)],c}return Object(i.a)(n,[{key:"conversionFunction",get:function(){return this._conversionFunction},set:function(e){this._conversionFunction=e}},{key:"setupSubscription",value:function(e){var t=this;Object(c.a)(Object(u.a)(n.prototype),"setupSubscription",this).call(this,e.pipe(Object(h.a)((function(e){return e instanceof l.a?new l.a(e.sinkId,t.conversionFunction(e.value,[t.domain[0].value,t.domain[1].value],[t.range[0].value,t.range[1].value]),e.time):e})),_(m.c.DEBUG,"scaled",false)))}},{key:"toString",value:function(){return"ScaleHandler: Converting from ".concat(this.domain[0],", ").concat(this.domain[1]," to ").concat(this.range[0],",").concat(this.range[1])}}]),n}(d.a),_=function(e,t,n){return function(a){return n?a.pipe(Object(p.a)((function(n){D(e,t+": "+n)})),Object(k.a)(t)):a.pipe(Object(p.a)((function(n){D(e,t+": "+n)})))}},D=function(e,t){false},w=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i){return Object(a.a)(this,n),t.call(this,n.melConversion,e,[80,450],i)}return Object(i.a)(n,[{key:"toString",value:function(){return"NoteHandler: Converting using Mel from ".concat(this.domain[0],", ").concat(this.domain[1]," to ").concat(this.range[0],",").concat(this.range[1])}}],[{key:"melConversion",value:function(e,t,n){var a=(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0],i=700*(Math.exp(a/1127)-1);return NaN!=i&&void 0!=i||(i=n[1]),i}}]),n}(S)},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(20),c=n(18),u=n(160),l=n(64),d=n(43),h=n(16),p=n(34),f=n(37),b=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this)).subscription=void 0,i._outputs=void 0,i._outputs=new Array,e&&i.addOutput(e),i}return Object(i.a)(n,[{key:"addOutput",value:function(e){this.setupOutputSubscription(e),this._outputs.push(e)}},{key:"removeOutput",value:function(e){this._outputs=this._outputs.filter((function(t){return t!==e})),e.complete()}},{key:"setupSubscription",value:function(e){m(h.c.DEBUG,"setting up subscription for sink"),this.subscription=e.pipe(v(h.c.DEBUG,"DataHandler",false)).subscribe(this)}},{key:"setupOutputSubscription",value:function(e){var t=this.pipe(Object(u.a)((function(e){return void 0!=e})));m(h.c.DEBUG,"setting up output"),e.setupSubscription(t)}},{key:"toString",value:function(){return"DataHandler ".concat(this)}},{key:"complete",value:function(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe(),this._outputs.forEach((function(e){return e.complete()})),Object(s.a)(Object(c.a)(n.prototype),"complete",this).call(this)}}]),n}(l.a),v=function(e,t,n){return function(a){return n?a.pipe(Object(d.a)((function(n){m(e,t+": "+(n instanceof f.a)?n:h.b[n])})),Object(p.a)(t)):a.pipe(Object(d.a)((function(n){m(e,t+": "+n)})))}},m=function(e,t){false}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n(6),r=n(4),o=n(5),s=n(20),c=n(18),u=(n(43),n(16)),l=n(151),d=(n(34),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a.a)(this,n),(i=t.call(this))._stereoPannerNode=void 0,i._gainNode=void 0,i._volume=5,i._outputNode=void 0,i.isAudioPlaying=void 0,i.outputNode||(i.outputNode=e),i._gainNode=n._audioCtx.createGain(),i._stereoPannerNode=n._audioCtx.createStereoPanner(),i.stereoPannerNode.pan.value=r,i.isAudioPlaying=!1,i}return Object(i.a)(n,[{key:"stereoPannerNode",get:function(){return this._stereoPannerNode},set:function(e){this._stereoPannerNode=e}},{key:"gainNode",get:function(){return this._gainNode},set:function(e){this._gainNode=e}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e}},{key:"outputNode",get:function(){return this._outputNode},set:function(e){this._outputNode=e}},{key:"stop",value:function(){var e;h(u.c.DEBUG,"Stopping Playback"),null===(e=this.outputNode)||void 0===e||e.disconnect(),this.isAudioPlaying=!1,Object(s.a)(Object(c.a)(n.prototype),"stop",this).call(this)}},{key:"start",value:function(){var e;h(u.c.DEBUG,"Starting"),n.audioCtx.resume(),this.gainNode.connect(n.audioCtx.destination),this.stereoPannerNode.connect(this.gainNode),null===(e=this.outputNode)||void 0===e||e.connect(this.stereoPannerNode),Object(s.a)(Object(c.a)(n.prototype),"start",this).call(this)}},{key:"pause",value:function(){h(u.c.DEBUG,"Pausing. Playback state is paused"),n.audioCtx.suspend(),Object(s.a)(Object(c.a)(n.prototype),"pause",this).call(this)}},{key:"resume",value:function(){h(u.c.DEBUG,"Resuming. Playback state is resumed"),n.audioCtx.resume(),Object(s.a)(Object(c.a)(n.prototype),"resume",this).call(this)}},{key:"toString",value:function(){return"Sonify"}}],[{key:"audioCtx",get:function(){return n._audioCtx}}]),n}(l.a));d._audioCtx=new AudioContext;var h=function(e,t){false}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n(6),r=n(4),o=n(5),s=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this))._buffer=void 0,e&&(i._buffer=e),i}return Object(i.a)(n,[{key:"buffer",get:function(){return this._buffer},set:function(e){this._buffer=e}},{key:"create",value:function(e){console.log("playing for datum",e.value);var t=n.audioCtx.createBufferSource();return this._buffer&&(n.audioCtx.decodeAudioData(this._buffer.slice(0),(function(e){return t.buffer=e})),this.outputNode=t,this.outputNode.connect(this.gainNode),t.start()),t.buffer&&(this.duration=t.buffer.duration),t}},{key:"extend",value:function(e){throw new Error("Method not implemented.")}}]),n}(n(152).a)}},[[268,2,3]]]);
//# sourceMappingURL=main.3edacd3b.chunk.js.map