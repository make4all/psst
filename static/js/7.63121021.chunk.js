(this.webpackJsonppsst=this.webpackJsonppsst||[]).push([[7],{360:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(358),c=Object(a.x)()},370:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var a=n(8),c=n.n(a),r=n(21),s=n(9),i=n(0),u=n(358),o=n(359),b=n(101),l=n(38),d=n(360),j=n(67),f=n(16),O=n(195),g=n(160),p=n(64),x=n(37),v=n(116),m=n(115),w=n(66),S=n(2);function h(){return Object(O.a)(Object(g.a)((function(e){return null!=e})))}function k(e){var t=e.service,n=e.outputEngine,a=Object(o.d)(t,u.a.Down),b=Object(o.d)(t,u.a.Up),l=Object(i.useState)(""),d=Object(s.a)(l,2),j=d[0],O=d[1],g=Object(i.useState)("up"),p=Object(s.a)(g,2),x=p[0],v=p[1],m=function(e,t){v(t?"down":"up"),t||"A+B"===e&&(n.value===f.b.Play?n.next(f.b.Stop):n.next(f.b.Play))};return Object(i.useEffect)((function(){""!==j&&a.subscribe(u.g,(function(){return m(j,!0)}))}),[a,j]),Object(i.useEffect)((function(){""!==j&&b.subscribe(u.g,(function(){return m(j,!1)}))}),[b,j]),Object(i.useEffect)((function(){var e=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,t.resolveInstanceName();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsxs)(S.Fragment,{children:[j," ",x]})]},t.friendlyName)}function I(){var e=Object(o.b)(),t=Object(o.c)(e,(function(e){return e.connected})),n=Object(o.e)({serviceClass:u.l}),a=Object(o.e)({serviceClass:u.m}),d=Object(i.useState)(!1),O=Object(s.a)(d,2),g=O[0],I=O[1],E=Object(i.useState)(),y=Object(s.a)(E,2),C=y[0],D=y[1],P=Object(i.useState)(),N=Object(s.a)(P,2),T=N[0],A=N[1],B=Object(i.useState)(),H=Object(s.a)(B,2),R=H[0],F=H[1],J=Object(i.useState)(),z=Object(s.a)(J,2),G=z[0],M=z[1],U=Object(i.useState)(),V=Object(s.a)(U,2),X=V[0],Y=V[1],Z=Object(i.useState)(),q=Object(s.a)(Z,2),K=q[0],L=q[1];Object(i.useEffect)((function(){Object(u.B)()||"#dbg"!==window.location.hash||Object(u.D)()}),[]),Object(i.useEffect)((function(){if(n&&0!==n.length){var e=n[0],t=e.readingRegister.subscribe(u.j,Object(u.E)(Object(r.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&C&&T&&R){t.next=2;break}return t.abrupt("return");case 2:n=Object(s.a)(e.readingRegister.unpackedValue,3),a=n[0],n[1],n[2],console.log("vpotluri: calling PushPoint."),C&&G&&G.next(new x.a(C.id,a));case 5:case"end":return t.stop()}}),t)}))),100));return function(){return null===t||void 0===t?void 0:t()}}}),[n]),Object(i.useEffect)((function(){return l.a.getInstance().subscribe((function(e){console.log("Chaning streaming state ",e),e===f.b.Play?I(!0):I(!1)})),function(){return l.a.getInstance().unsubscribe()}}),[]);var Q=function(){var n=Object(r.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return console.log("DISCONNECT"),n.next=4,e.disconnect();case 4:n.next=9;break;case 6:return console.log("connect"),n.next=9,e.connect();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return console.log("STREAMING STATE: ",g),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(b.a,{onClick:Q,children:(null===e||void 0===e?void 0:e.connected)?"Disconnect":"Connect"}),e&&Object(S.jsx)(b.a,{onClick:function(){console.log("entering handel stream");var e=0,t=1,n=2,a=C,c=T,r=R;if(l.a.getInstance().value!==f.b.Play){console.log("streaming was false"),a||(a=l.a.getInstance().addSink("jacdac accelerometer X axis"),console.log("added sink to stream x axis data ".concat(C)),a.addDataHandler(new j.a([-1,1],new w.a(-1))),a.addDataHandler(new v.a(-1,new m.a)),e=a.id,D(a)),c||(c=l.a.getInstance().addSink("jacdac accelerometer Y axis"),console.log("added sink to stream y axis data ".concat(T)),c.addDataHandler(new j.a([-1,1],new w.a(1))),t=c.id,A(c)),r||(r=l.a.getInstance().addSink("jacdac accelerometer Z axis"),console.log("added sink to stream z axis data ".concat(R)),n=r.id,F(r));var s=G;s||(s=new p.a,M(s),l.a.getInstance().setStream(e,s.pipe(h())));var i=X;i||(i=new p.a,Y(i),l.a.getInstance().setStream(t,i.pipe(h())));var u=K;u||(u=new p.a,L(u),l.a.getInstance().setStream(n,u.pipe(h()))),l.a.getInstance().next(f.b.Play)}else l.a.getInstance().next(f.b.Stop)},disabled:0===n.length,children:g?"Stop streaming":"Start streaming"}),a&&a.map((function(e,t){return Object(S.jsx)(k,{service:e,outputEngine:l.a.getInstance()},t)}))]})}function E(){return Object(S.jsx)(o.a,{initialBus:d.a,children:Object(S.jsx)(I,{})})}}}]);
//# sourceMappingURL=7.63121021.chunk.js.map